{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}

{% block titulo %}
Finalizar Viagem
{% endblock %}

{% block content %}

<header class="flex justify-center items-center bg-no-repeat">
  <div class="z-10 h-full py-32 md:py-0 text-gray-100 text-center flex items-center flex-col">
      <form method="POST" class="" style="width: 500px;" enctype="multipart/form-data">
          {% csrf_token %}
          {{ form|crispy }}
          <button type="submit" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out rounded-md mt-10 mr-2">Salvar</button>
          <a href="{% url 'veiculo:perfilusuario' %}">
            <button type="button" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out rounded-md mt-10 ml-2">Cancelar</button>
          </a>
      </form>
  </div>
</header>

{% for message in messages%}
      {% if message.tags == 'error' %}
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>
      
      <script>
        
        $(document).ready(function(){
          $("#testemodal").modal()
        });  
      </script>
      
      {% endif %}
    {% endfor %}

    <!-- Modal -->
    
    <div class="modal" id="testemodal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title ">Erro</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
                  <div class="text-center text mt-3">
                    <i class="fa-solid fa-circle-xmark fa-6x" style="color:#e0311a"></i>
                  </div>
                  <br>
                  <div class="mb-3 row d-flex justify-content-center">
                    <strong class="font-medium leading-normal text-gray-800">Quilometragem final menor que inicial! KM inicial: {{post.KM_Inicial}}</strong> 
                  </div>
          </div>
          <div class="modal-footer">
             
          </div>
        </div>
      </div>
    </div>
{% endblock %}